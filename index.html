<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Proposal for Ziyu ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600;700&family=Pacifico&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-pink: #ff4d6d;
            --soft-pink: #ff8fa3;
            --glass: rgba(255, 255, 255, 0.25);
            --glass-border: rgba(255, 255, 255, 0.5);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            margin: 0; padding: 0; height: 100vh; width: 100vw;
            background: linear-gradient(-45deg, #ffe0f0, #f0dfff, #e0f0ff, #fff0e0);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            display: flex; justify-content: center; align-items: center;
            font-family: 'Poppins', sans-serif; overflow: hidden;
            transition: opacity 2s ease;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .container {
            position: relative; z-index: 10; padding: 25px; width: 90%; max-width: 420px;
            background: var(--glass); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
            border-radius: 30px; border: 1px solid var(--glass-border);
            box-shadow: 0 15px 35px rgba(0,0,0,0.1); text-align: center;
            animation: fadeIn 1s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        h1 { font-family: 'Dancing Script', cursive; color: #d6336c; font-size: 2.8rem; margin: 0 0 10px 0; }
        p { font-family: 'Pacifico', cursive; color: #444; font-size: 1.1rem; line-height: 1.5; }

        .photo-container {
            width: 100%; aspect-ratio: 9/16; margin: 20px auto;
            border-radius: 20px; overflow: hidden; border: 5px solid white;
            box-shadow: 0 10px 20px rgba(0,0,0,0.15); background: #fff;
        }

        #photo { width: 100%; height: 100%; object-fit: cover; transition: opacity 0.8s ease-in-out; }

        .btn-wrapper { display: flex; justify-content: center; gap: 15px; margin-top: 20px; }

        button {
            padding: 12px 30px; font-size: 1rem; font-weight: 600; border: none;
            border-radius: 50px; cursor: pointer; font-family: 'Poppins';
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.27);
        }

        #yes { background: var(--primary-pink); color: white; box-shadow: 0 5px 15px rgba(255, 77, 109, 0.4); }
        #no { background: white; color: var(--primary-pink); position: relative; }

        .quiz-btn { display: block; width: 100%; margin: 10px 0; background: white; color: #333; }
        .correct { background: #2ed573 !important; color: white; }
        .wrong { background: #ff4757 !important; color: white; animation: shake 0.4s; }

        #heartPop {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0);
            font-size: 100px; z-index: 1000; transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.27);
            pointer-events: none; opacity: 0;
        }
        #heartPop.show { transform: translate(-50%, -50%) scale(1.5); opacity: 1; }

        #congratsText {
            display: none; font-family: 'Dancing Script', cursive; 
            color: #d6336c; font-size: 1.8rem; margin-top: 15px;
        }

        #statusText { font-family:'Pacifico'; color:#d6336c; margin-top:10px; font-size:1.5rem; }

        /* Bada Nazar Animation */
        #finalNazar {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            font-size: 120px; z-index: 10001; opacity: 0;
            transition: opacity 2s ease-in; pointer-events: none; display: none;
        }

        #toast {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0.7);
            background: rgba(255, 50, 100, 0.95); color: white; padding: 25px 50px;
            border-radius: 25px; font-size: 1.6rem; font-weight: bold; z-index: 10000;
            opacity: 0; transition: 0.4s; pointer-events: none;
        }
        #toast.show { opacity: 1; transform: translate(-50%, -50%) scale(1); }

        .decoration { position: fixed; pointer-events: none; z-index: 999; animation: fall linear forwards; }
        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }

        #endVideo { width: 100%; aspect-ratio: 9/16; border-radius: 15px; display: none; object-fit: cover; }
    </style>
</head>
<body>

    <div class="container" id="introBox">
        <h1>Hello Ziyu ‚ù§Ô∏è</h1>
        <p>Tum mere ho<br>Mai tumhare bina ek pal bhi nahi rahe sakta<br>Tum Mera sab kuch ho<br>Will you marry me Ziyu!</p>
        <div class="btn-wrapper">
            <button id="yes" onclick="startApp()">YES üíç</button>
            <button id="no" onmouseover="moveNo()" onclick="moveNo()">NO üòÖ</button>
        </div>
    </div>

    <div class="container" id="mainBox" style="display:none;">
        <audio id="mainAudio" src="song.mp3" loop></audio>
        <div class="photo-container">
            <img id="photo" src="photo1.jpg" alt="Our Moments">
        </div>
        <div id="quizContainer"></div>
        
        <div id="congratsText">Congratulations! ü•≥<br>Tum mere ho baby ji üíï</div>
        
        <video id="endVideo" playsinline><source src="video.mp4" type="video/mp4"></video>
        <div id="statusText" style="display:none;">üßø Hamesha ke liye...</div>
    </div>

    <div id="heartPop">üíï</div>
    <div id="finalNazar">üßø</div>
    <div id="toast">Maar khati kamini üëä</div>

    <script>
        const photos = ["photo1.jpg", "photo2.jpg", "photo3.jpg", "photo4.jpg", "photo5.jpg", "photo6.jpg", "photo7.jpg", "photo8.jpg", "photo9.jpg", "photo10.jpg", "photo11.jpg"];
        const questions = [
            { q: "Tum kiske ho?", a: ["Tumhari ‚ù§Ô∏è", "Jo le gaya", "Kya pata", "Kis ki bhi nahi"], c: 0 },
            { q: "Azeem kon hai tumhara?", a: ["Sab kuch üíï", "kuch b nahi", "Toy", "Diwana"], c: 0 },
            { q: "Tum Azeem ko kitna piyar karte ho?", a: ["Jaan se zyada üòò", "Thoda sa ü•≤", "Nahi karti üòè", "Kon Azeem üòÇ"], c: 0 },
            { q: "Tumhara favorite color?", a: ["White ü§ç", "Blue üíô", "Red ‚ù§Ô∏è", "Green üíö"], c: 0 }
        ];

        let qStep = 0;

        function moveNo() {
            const b = document.getElementById("no");
            b.style.position = 'fixed';
            b.style.left = Math.random() * (window.innerWidth - 100) + 'px';
            b.style.top = Math.random() * (window.innerHeight - 50) + 'px';
        }

        function startApp() {
            document.getElementById("introBox").style.display = "none";
            document.getElementById("mainBox").style.display = "block";
            const audio = document.getElementById("mainAudio");
            audio.volume = 0.5;
            audio.play();
            renderQuiz(0);
        }

        function renderQuiz(idx) {
            qStep = idx;
            const container = document.getElementById("quizContainer");
            container.innerHTML = `<h2 style="font-family:'Dancing Script'; color:#333;">${questions[idx].q}</h2>`;
            
            questions[idx].a.forEach((opt, i) => {
                const btn = document.createElement("button");
                btn.className = "quiz-btn";
                btn.innerText = opt;
                btn.onclick = () => checkAnswer(i, btn);
                container.appendChild(btn);
            });
            changePhoto(idx);
        }

        function changePhoto(idx) {
            const img = document.getElementById("photo");
            img.style.opacity = 0;
            setTimeout(() => {
                if(photos[idx]) img.src = photos[idx];
                img.style.opacity = 1;
            }, 400);
        }

        function checkAnswer(i, btn) {
            if(i === questions[qStep].c) {
                btn.classList.add("correct");
                const heart = document.getElementById("heartPop");
                heart.classList.add("show");
                setTimeout(() => heart.classList.remove("show"), 800);

                setTimeout(() => {
                    if(qStep + 1 < questions.length) renderQuiz(qStep + 1);
                    else startShow();
                }, 1000);
            } else {
                btn.classList.add("wrong");
                const t = document.getElementById("toast");
                t.classList.add("show");
                setTimeout(() => t.classList.remove("show"), 2000);
            }
        }

        function startShow() {
            document.getElementById("quizContainer").style.display = "none";
            document.getElementById("congratsText").style.display = "block";
            startDecorations(); 
            
            let pIdx = questions.length;
            const timer = setInterval(() => {
                if(pIdx < photos.length) {
                    changePhoto(pIdx);
                    pIdx++;
                } else {
                    clearInterval(timer);
                    playVideo();
                }
            }, 2500);
        }

        function playVideo() {
            document.querySelector(".photo-container").style.display = "none";
            document.getElementById("congratsText").style.display = "none";
            document.getElementById("statusText").style.display = "block";
            const v = document.getElementById("endVideo");
            v.style.display = "block";
            v.play();

            // Jab video khatam hone wali ho
            v.onended = () => {
                const finalNazar = document.getElementById("finalNazar");
                finalNazar.style.display = "block";
                setTimeout(() => {
                    finalNazar.style.opacity = "1";
                }, 100);
                
                // Screen fade out after nazar appears
                setTimeout(() => {
                    document.body.style.opacity = "0";
                }, 4000);
            };
        }

        function startDecorations() {
            setInterval(() => {
                const d = document.createElement("div");
                d.className = "decoration";
                d.innerText = ["üå∏", "üíñ", "‚ú®", "üíï"][Math.floor(Math.random()*4)];
                d.style.left = Math.random() * 100 + "vw";
                d.style.fontSize = Math.random() * 20 + 10 + "px";
                d.style.animationDuration = Math.random() * 3 + 4 + "s";
                document.body.appendChild(d);
                setTimeout(() => d.remove(), 6000);
            }, 300);
        }
    </script>
</body>
</html>
