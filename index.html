<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For My Ziyu ‚ù§Ô∏è</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600;700&family=Pacifico&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #ff4d6d;
            --bg-gradient: linear-gradient(135deg, #ff9a9e 0%, #fecfef 99%, #fecfef 100%);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            margin: 0; padding: 0; min-height: 100vh;
            background: var(--bg-gradient);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            display: flex; justify-content: center; align-items: center;
            font-family: 'Poppins', sans-serif;
            overflow-x: hidden;
            transition: opacity 1.5s ease;
        }

        @keyframes gradientBG { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

        .container {
            position: relative; z-index: 10; padding: 25px; width: 90%; max-width: 400px;
            background: rgba(255, 255, 255, 0.3); backdrop-filter: blur(15px);
            border-radius: 24px; border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 8px 32px rgba(0,0,0,0.1); text-align: center;
        }

        h1 { font-family: 'Dancing Script', cursive; color: #d6336c; font-size: 2.5rem; }
        p { font-family: 'Pacifico', cursive; color: #444; font-size: 1rem; }

        /* Photo Frame 9:16 */
        #photo-frame {
            width: 100%; aspect-ratio: 9/16; position: relative;
            overflow: hidden; border-radius: 15px; margin-bottom: 20px;
            border: 4px solid white; box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        #photo {
            width: 100%; height: 100%; object-fit: cover;
            opacity: 1; transition: opacity 0.8s ease-in-out;
        }

        button {
            padding: 12px 30px; border: none; border-radius: 50px;
            cursor: pointer; font-weight: 600; transition: 0.3s;
            margin: 10px; font-family: 'Poppins';
        }

        #yes { background: #ff4d6d; color: white; }
        #no { background: white; color: #ff4d6d; position: relative; }

        #toast {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0.8);
            background: rgba(255, 71, 87, 0.95); color: white; padding: 25px 40px;
            border-radius: 20px; z-index: 10000; opacity: 0; pointer-events: none;
            transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.27);
            font-size: 1.5rem; font-weight: bold; text-align: center;
        }
        #toast.show { opacity: 1; transform: translate(-50%, -50%) scale(1); }

        #questions button { display: block; width: 100%; margin: 10px 0; background: white; }
        #questions button.correct { background: #2ed573; color: white; }
        #questions button.wrong { background: #ff4757; color: white; animation: shake 0.4s; }

        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-8px); } 75% { transform: translateX(8px); } }

        video { width: 100%; border-radius: 15px; display: none; aspect-ratio: 9/16; object-fit: cover; }
        #nazar { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); font-size: 3rem; display: none; }
    </style>
</head>
<body>

    <div class="container" id="questionSection">
        <h1>Hello Ziyu ‚ù§Ô∏è</h1>
        <p>Tum mere ho... Will you marry me Ziyu!</p>
        <button id="yes" onclick="sayYes()">YES üíç</button>
        <button id="no" onmouseover="moveNo()" onclick="moveNo()">NO üòÖ</button>
    </div>

    <div class="container" id="loveSection" style="display:none;">
        <audio id="song" src="song.mp3" loop></audio>
        <div id="photo-frame"><img id="photo" src="photo1.jpg"></div>
        <div id="questions"></div>
        <video id="endVideo" playsinline><source src="video.mp4" type="video/mp4"></video>
        <div id="celebration" style="display:none; font-family:'Pacifico'; color:#d6336c; margin-top:10px;">ü•≥ Tum mere ho baby ji üíï</div>
    </div>

    <div id="toast">Maar khati kamini üëä</div>
    <div id="nazar">üßø</div>

    <script>
        const photos = ["photo1.jpg", "photo2.jpg", "photo3.jpg", "photo4.jpg", "photo5.jpg", "photo6.jpg", "photo7.jpg", "photo8.jpg", "photo9.jpg", "photo10.jpg", "photo11.jpg"];
        const quizData = [
            { q: "Tum kiske ho?", options: ["Tumhari ‚ù§Ô∏è", "Jo le gaya", "Kya pata", "Kis ki bhi nahi"], correct: 0 },
            { q: "Azeem kon hai tumhara?", options: ["Sab kuch üíï", "kuch b nahi", "Toy", "Diwana"], correct: 0 },
            { q: "Tum Azeem ko kitna piyar karte ho?", options: ["Jaan se zyada üòò", "Thoda sa ü•≤", "Nahi karti üòè", "Kon Azeem üòÇ"], correct: 0 }
        ];

        let currentQ = 0;

        function moveNo() {
            const btn = document.getElementById("no");
            btn.style.position = 'fixed';
            btn.style.left = Math.random() * (window.innerWidth - 100) + 'px';
            btn.style.top = Math.random() * (window.innerHeight - 50) + 'px';
        }

        function sayYes() {
            document.getElementById("questionSection").style.display = "none";
            document.getElementById("loveSection").style.display = "block";
            document.getElementById("song").play();
            loadQuiz(0);
        }

        function loadQuiz(idx) {
            currentQ = idx;
            const qDiv = document.getElementById("questions");
            qDiv.innerHTML = `<h2>${quizData[idx].q}</h2>`;
            quizData[idx].options.forEach((opt, i) => {
                const b = document.createElement("button");
                b.innerText = opt;
                b.onclick = () => checkAns(i, b);
                qDiv.appendChild(b);
            });
            updatePhoto(idx);
        }

        function updatePhoto(idx) {
            const img = document.getElementById("photo");
            img.style.opacity = 0;
            setTimeout(() => {
                if(photos[idx]) img.src = photos[idx];
                img.style.opacity = 1;
            }, 400);
        }

        function checkAns(i, btn) {
            if(i === quizData[currentQ].correct) {
                btn.classList.add("correct");
                setTimeout(() => {
                    if(currentQ + 1 < quizData.length) loadQuiz(currentQ + 1);
                    else startFinal();
                }, 800);
            } else {
                btn.classList.add("wrong");
                if(navigator.vibrate) navigator.vibrate(200);
                const t = document.getElementById("toast");
                t.classList.add("show");
                setTimeout(() => t.classList.remove("show"), 2000);
            }
        }

        function startFinal() {
            document.getElementById("questions").style.display = "none";
            let pIdx = quizData.length;
            const interval = setInterval(() => {
                if(pIdx < photos.length) {
                    updatePhoto(pIdx);
                    pIdx++;
                } else {
                    clearInterval(interval);
                    showEnd();
                }
            }, 2000);
        }

        function showEnd() {
            document.getElementById("photo-frame").style.display = "none";
            document.getElementById("celebration").style.display = "block";
            const v = document.getElementById("endVideo");
            v.style.display = "block";
            document.getElementById("nazar").style.display = "block";
            v.play();
            
            v.onended = () => {
                document.getElementById("song").pause();
                document.body.style.opacity = "0";
            };
        }
    </script>
</body>
</html>
